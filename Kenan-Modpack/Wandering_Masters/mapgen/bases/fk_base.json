[
  {
    "//": "TODO spawn for q and maybe more",
    "type": "mapgen",
    "method": "json",
    "om_terrain": [ [ "fk_base_1", "fk_base_2" ] ],
    "weight": 100,
    "object": {
      "faction_owner": [
        { "id": "flame_knuckle", "x": [ 0, 23 ], "y": [ 0, 23 ] },
        { "id": "flame_knuckle", "x": [ 24, 47 ], "y": [ 0, 23 ] }
      ],
      "predecessor_mapgen": "forest",
      "rows": [
        "          ,                                     ",
        "          ,     ##1#####1####1##                ",
        "          ,     #qqqq#dd_CCCCdd#                ",
        "          ,     1___8#6_______61                ",
        " ,,,,,,,,,,     #q__B#dd_____dd#                ",
        " ,        ,     #w__B#6_______8#                ",
        " ,        ,     1w__B#dd_d_d_d_1                ",
        " ,        ,     #w__q#___d6d6d_#                ",
        " ,    ##o#+#o######x##+#######+#                ",
        " ,    #______'CC#qq_u#__#bb~R#u#                ",
        " ,    #_________#q___#__+~~~R###                ",
        " ,    #_t==t==t_x____x__#s4~v#u#                ",
        " ,    o_=======_#'__u#__######+#                ",
        " ,    #_@==@==@_#___u#8_wwwwww_#                ",
        " ,    #_P==P==P_#q8_u#_________#                ",
        " ,    #_________######_wwwwwww_1                ",
        " ,    o_________#r#_9#_________#                ",
        " ,    #$$$?_---_#_#+##_wwwwwww_#                ",
        " ,,,, #55%$_e-e_+___u#_________#                ",
        " ,  , #555$_a-a_#_#+##_wwwwwww_1                ",
        " ,  , #%55$_'___#r#_9#____'___8#                ",
        "|+| , ##o####o#+#######1####1###                ",
        "|T| ,        ,                                  ",
        "||| ,,,,,,,,,,                                  "
      ],
      "palettes": [ "more_npc_palette" ],
      "place_zones": [
        { "type": "NPC_INVESTIGATE_ONLY", "faction": "flame_knuckle", "x": [ 16, 23 ], "y": [ 1, 15 ] },
        { "type": "NPC_INVESTIGATE_ONLY", "faction": "flame_knuckle", "x": [ 24, 31 ], "y": [ 1, 21 ] }
      ],
      "terrain": {
        "8": "t_floor",
        "v": "t_floor",
        "_": "t_floor",
        "5": "t_floor",
        "C": "t_floor",
        "q": "t_floor",
        "w": "t_floor",
        "r": "t_floor",
        "9": "t_floor",
        "u": "t_floor",
        "B": "t_floor",
        "d": "t_floor",
        "6": "t_floor",
        "R": "t_floor",
        "|": "t_wall_log",
        ",": "t_dirt",
        "E": "t_carpet_green",
        "t": "t_carpet_green",
        "P": "t_carpet_green",
        "-": "t_carpet_red",
        "a": "t_carpet_red",
        "e": "t_carpet_red",
        "@": "t_carpet_green",
        "b": "t_carpet_purple",
        "s": "t_carpet_purple",
        "4": "t_carpet_purple",
        "T": "t_pit_covered"
      },
      "furniture": { "%": "f_canvas_floor" },
      "items": {
        "q": [
          { "item": "pasta", "chance": 80, "repeat": [ 2, 8 ] },
          { "item": "kitchen", "chance": 50, "repeat": [ 1, 3 ] },
          { "item": "snacks", "chance": 25, "repeat": [ 1, 3 ] }
        ]
      },
      "place_item": [ { "item": "atomic_lamp", "x": 25, "y": 11 } ],
      "place_npcs": [
        { "class": "NPC_flame_knuckle_master", "x": 23, "y": 9 },
        { "class": "NPC_flame_knuckle_elite", "x": 11, "y": 10 },
        { "class": "NPC_flame_knuckle_master", "x": 23, "y": 11 },
        { "class": "NPC_flame_knuckle_apprentice_door", "x": 15, "y": 12 },
        { "class": "NPC_flame_knuckle_elite", "x": 11, "y": 17 }
      ],
      "nested": {
        "8": { "chunks": [ [ "null", 30 ], [ "NPC_flame_knuckle_apprentice_spawn", 70 ] ] },
        "t": { "chunks": [ [ "null", 30 ], [ "NPC_flame_knuckle_apprentice_spawn", 70 ] ] },
        "9": { "chunks": [ [ "null", 30 ], [ "NPC_flame_knuckle_apprentice_spawn", 70 ] ] },
        "@": { "chunks": [ [ "null", 30 ], [ "NPC_flame_knuckle_apprentice_spawn", 70 ] ] },
        "%": { "chunks": [ [ "null", 30 ], [ "NPC_flame_knuckle_apprentice_spawn", 70 ] ] },
        "a": { "chunks": [ [ "null", 30 ], [ "NPC_flame_knuckle_apprentice_spawn", 70 ] ] }
      }
    }
  },
  {
    "//": "TODO edit to make roof cooler",
    "type": "mapgen",
    "method": "json",
    "om_terrain": [ [ "fk_base_roof_1", "fk_base_roof_2" ] ],
    "object": {
      "fill_ter": "t_open_air",
      "rows": [
        "                                                ",
        "                |222222222222223                ",
        "                |..............3                ",
        "                |..............3                ",
        "                |..............3                ",
        "                |..............3                ",
        "                |..............3                ",
        "                |..............3                ",
        "      |---------|..............3                ",
        "      |........................3                ",
        "      |........................3                ",
        "      |........................3                ",
        "      |........................3                ",
        "      |........................3                ",
        "      |........................3                ",
        "      |........................3                ",
        "      |........................3                ",
        "      |........................3                ",
        "      |........................3                ",
        "      |........................3                ",
        "      |........................3                ",
        "      |........................3                ",
        "...   |------------------------3                ",
        "...                                             ",
        "...                                             "
      ],
      "palettes": [ "roof_palette" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "fk_base_stash",
    "weight": 250,
    "object": {
      "fill_ter": "t_rock",
      "rows": [
        " |---|                  ",
        "|-qqq|                  ",
        "|<...|                  ",
        "|-qqq|                  ",
        " |---|                  ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        "
      ],
      "terrain": { "-": "t_wall", ".": "t_rock_floor", "<": "t_stairs_up", "|": "t_wall", "q": "t_rock_floor" },
      "place_loot": [
        { "group": "survivorzed_suits", "x": 2, "y": 1, "chance": 75, "repeat": [ 2, 4 ] },
        { "group": "survivorzed_head", "x": 3, "y": 1, "chance": 75, "repeat": [ 2, 4 ] },
        { "group": "survivorzed_extra", "x": 4, "y": 1, "chance": 75, "repeat": [ 2, 4 ] },
        { "group": "survivorzed_tops", "x": 2, "y": 3, "chance": 75, "repeat": [ 2, 4 ] },
        { "group": "weapons", "x": 3, "y": 3, "chance": 75, "repeat": [ 2, 4 ] },
        { "group": "jewelry_front", "x": 4, "y": 3, "chance": 75, "repeat": [ 8, 16 ] }
      ],
      "furniture": { "q": "f_rack_wood" }
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "NPC_flame_knuckle_apprentice_spawn",
    "object": { "mapgensize": [ 1, 1 ], "place_npcs": [ { "class": "NPC_flame_knuckle_apprentice", "x": 0, "y": 0 } ] }
  }
]
